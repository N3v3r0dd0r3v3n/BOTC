/* Tweak these if you like */
.circle-container {
  --radius: 200px;     /* seat ring radius */
  --seat: 70px;        /* chair diameter */
  --label-gap: 5px;    /* gap from seat edge to label (outside) */
  --role-gap: 60px;     /* gap from seat edge to role chip (inside) */
  --label-pad: 8px;    /* safety margin so labels fit in the card */

  /* size container to include seats + labels */
  --outer: calc(2 * (var(--radius) + var(--seat)/2 + var(--label-gap) + var(--label-pad)));
  position: relative;
  width: var(--outer);
  height: var(--outer);
  margin: 0 auto;
  aspect-ratio: 1 / 1;
  border-radius: 50%;
  isolation: isolate;
  overflow: visible; /* prevent clipping */
}

/* one node per seat: set the angle and push to the seat ring */
.node {
  position: absolute;
  left: 50%;
  top: 50%;
  width: 0;
  height: 0;
  transform:
    rotate(calc(360deg * var(--i) / var(--n)))
    translate(var(--radius));
}

/* anchor at that point */
.anchor {
  position: relative;
  width: 0;
  height: 0;
}

/* seat centred at the anchor, kept upright */
.chair {
  position: absolute;
  left: 50%;
  top: 50%;
  width: var(--seat);
  height: var(--seat);
  border-radius: 50%;
  display: grid; place-items: center;
  background: #222; color: #fff; border: 2px solid #555;
  transform:
    translate(-50%, -50%)
    rotate(calc(-360deg * var(--i) / var(--n)));
  z-index: 2;
}

/* label sits along the same radial, just past the seat edge (~5px) */
.label {
  position: absolute;
  left: 50%;
  top: 50%;
  transform:
    translate(calc(var(--seat)/2 + var(--label-gap)), -50%)
    rotate(calc(-360deg * var(--i) / var(--n)));
  white-space: nowrap;
  background: rgba(0,0,0,.75);
  color: #fff;
  padding: 4px 8px;
  border-radius: 8px;
  pointer-events: none;
  font-size: 13px;
  z-index: 3;
}

/* === NEW: inner role chip â€” inside the seat circle ===
   Mirrors the label placement, but moves INWARD instead of outward. */
.role-circle {
  position: absolute;
  left: 50%;
  top: 50%;
  transform:
    translate(calc(-1 * (var(--seat)/2 + var(--role-gap))), -50%) /* inward by seat/2 + gap */
    rotate(calc(-360deg * var(--i) / var(--n)));                 /* keep text upright */
  width: 50px;
  height: 50px;
  border-radius: 50%;
  background: #fff;
  color: #111;
  font-size: clamp(8px, calc(var(--role-size, 28px) * 0.4), 13px);
  font-weight: 600;
  display: flex;
  align-items: center;
  justify-content: center;
  pointer-events: none;
  box-shadow: 0 0 0 1px rgba(0,0,0,0.35) inset;
  z-index: 3; /* above the seat face */
}

/* if your mat-card is clipping, keep overflow visible */
.mat-mdc-card, .mat-mdc-card-content { overflow: visible; }
